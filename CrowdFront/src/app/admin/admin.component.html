<!-- admin.component.html -->

<div class="admin-container">
    <div *ngIf="message" class="message">{{ message }}</div>
    <h2>Área de administrador</h2>
    <div class="api-docs-link">
        <h1>Documentação da API</h1>
        <a href="http://localhost:3000/api-docs/#/">Documentação da API</a>
    </div>

    <div class="add-jellyfish">
        <h2>Adicionar Novo Jellyfish</h2>
        <form #jellyfishForm="ngForm" (ngSubmit)="onSubmit()">
            <div class="form-group">
                <label for="nome">Nome:</label>
                <input type="text" id="nome" name="nome" [(ngModel)]="jellyfish.nome" required>
            </div>
            <div class="form-group">
                <label for="descricao">Descrição:</label>
                <input type="text" id="descricao" name="descricao" [(ngModel)]="jellyfish.descricao" required>
            </div>
            <div class="form-group">
                <label for="nomeImagem">Nome da Imagem:</label>
                <input type="text" id="nome_imagem" [disabled]="!isNomeEditable" name="nome_imagem" [(ngModel)]="jellyfish.nome_imagem" required readonly>
            </div>
            <div class="form-group">
                <label for="imagem">Imagem:</label>
                <input type="file" id="imagem" name="imagem" (change)="handleImageChange($event)">
            </div>
            <button type="submit" [disabled]="!jellyfishForm.valid">Adicionar Jellyfish</button>
        </form>    
    </div>
    <div *ngIf="alertMessage" class="alert-success">
        {{ alertMessage }}
      </div>
      
      <div *ngIf="errorMessage" class="alert-error">
        {{ errorMessage }}
      </div>
</div>
   <button (click)="openJellyfishList()">Abrir Lista de Jellyfish</button>
   <button class="close-button" (click)="closeJellyfishList()">X</button>

   <div *ngIf="showJellyfishList">
       <h3>Listagem de Jellyfish:</h3>
       <table>
           <thead>
               <tr>
                   <th>ID</th>
                   <th>Nome</th>
                   <th>Descrição</th>
                   <th>Nome da Imagem</th>
               </tr>
           </thead>
           <tbody>
               <tr *ngFor="let jellyfish of jellyfishList">
                   <td>{{ jellyfish.id }}</td>
                   <td>{{ jellyfish.nome }}</td>
                   <td>{{ jellyfish.descricao }}</td>
                   <td>{{ jellyfish.nome_imagem }}</td>
               </tr>
           </tbody>
       </table>
   </div>


